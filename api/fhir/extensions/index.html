<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <link rel="shortcut icon" href="../../../img/favicon.ico">

    <title>Extensions - EBMeDS 2.0</title>

    <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../../css/base.css" rel="stylesheet">
    <link href="../../../css/cinder.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            <a class="navbar-brand" href="../../..">EBMeDS 2.0</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../../..">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../../components/">Components</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../../installation/">Installation</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">FHIR <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../getting-started/">Getting started</a>
</li>

                        
                            
<li >
    <a href="../cds-hooks/">CDS hooks</a>
</li>

                        
                            
<li >
    <a href="../hook-catalog/">Hook catalog</a>
</li>

                        
                            
<li >
    <a href="../custom-rest/">Custom REST</a>
</li>

                        
                            
<li >
    <a href="../resources/">Resources</a>
</li>

                        
                            
<li >
    <a href="../code-systems/">Code Systems</a>
</li>

                        
                            
<li class="active">
    <a href="./">Extensions</a>
</li>

                        
                            
<li >
    <a href="../oda/">ODA-specific information</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">XML <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../xml/getting-started/">Getting started</a>
</li>

                        
                            
<li >
    <a href="../../xml/xml-schema/">XML schema</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../../../security/">Security & Error handling</a>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fa fa-search"></i> Search
                        </a>
                    </li>
                    <li >
                        <a rel="next" href="../code-systems/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../oda/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#questionnaire-extensions">Questionnaire extensions</a></li>
            <li class="second-level"><a href="#self-care-instructions">self-care-instructions</a></li>
                
            <li class="second-level"><a href="#displaycategory">displayCategory</a></li>
                
            <li class="second-level"><a href="#minvalue">minValue</a></li>
                
            <li class="second-level"><a href="#maxvalue">maxValue</a></li>
                
            <li class="second-level"><a href="#optionexclusive">optionExclusive</a></li>
                
            <li class="second-level"><a href="#maxdecimalplaces">maxDecimalPlaces</a></li>
                
            <li class="second-level"><a href="#enable-when-operator">enable-when-operator</a></li>
                
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="questionnaire-extensions">Questionnaire extensions</h1>
<h2 id="self-care-instructions">self-care-instructions</h2>
<ul>
<li>URL: <code>https://duodecim.fi/fhir/extensions/self-care-instructions</code></li>
<li>Location: Questionnaire root</li>
</ul>
<p>Contains the sub-extension <code>instruction-text</code>. Has a string value which is a markdown string containing a link to long-form self-care instructions.</p>
<p>Example:</p>
<pre><code class="json">{
  &quot;url&quot;:&quot;https://duodecim.fi/fhir/extensions/self-care-instructions&quot;,
  &quot;extension&quot;:[
    {
      &quot;url&quot;:&quot;instruction-text&quot;,
      &quot;valueString&quot;:&quot;[Itsehoito-ohje](http://www.terveyskirjasto.fi/terveyskirjasto/tk.koti?p_artikkeli=dlk01167)&quot;
    }
  ]
}
</code></pre>

<h2 id="displaycategory">displayCategory</h2>
<ul>
<li>URL: <code>http://hl7.org/fhir/StructureDefinition/questionnaire-displayCategory</code></li>
<li>Location: Questionnaire.item (and sub-items)</li>
</ul>
<p>Question with <code>type: 'display'</code> require a few more subcategories, which is the purpose of this HL7 extension. The allowed values are:</p>
<ul>
<li><code>subtitle</code>: As the name implies, a string designed to be a subtitle. The <code>text</code> field in this question is also styled with a markdown-style subtitle tag (<code># Example subtitle</code>).</li>
<li><code>feedback</code>: Answering a set of questions in a certain way may provoke some immediate feedback in the questionnaire itself, without having to send the QuestionnaireResponse to EBMeDS. This display-type question contains this kind of feedback.</li>
<li><code>terminus</code>: This is similar to <code>feedback</code>, except that if the user has answered questions that produce this type of feedback, the situation is so critical that he should be stopped from answering any more questions, and immediately seek help. The UI should hide the questions following this feedback type, if it is visible.</li>
</ul>
<p>Example:</p>
<pre><code class="json">{
  &quot;linkId&quot;:&quot;14&quot;,
  &quot;text&quot;:&quot;# A subtitle&quot;,
  &quot;type&quot;:&quot;display&quot;,
  &quot;extension&quot;:[
    {
      &quot;url&quot;:&quot;http://hl7.org/fhir/StructureDefinition/questionnaire-displayCategory&quot;,
      &quot;valueString&quot;:&quot;subtitle&quot;
    }
  ]
}
{
  &quot;linkId&quot;:&quot;15&quot;,
  &quot;text&quot;:&quot;Things are really bad.&quot;,
  &quot;type&quot;:&quot;display&quot;,
  &quot;extension&quot;:[
    {
      &quot;url&quot;:&quot;http://hl7.org/fhir/StructureDefinition/questionnaire-displayCategory&quot;,
      &quot;valueString&quot;:&quot;terminus&quot;
    }
  ]
}
</code></pre>

<h2 id="minvalue">minValue</h2>
<ul>
<li>URL: <code>http://hl7.org/fhir/StructureDefinition/minValue</code></li>
<li>Location: Questionnaire.item (and sub-items)</li>
</ul>
<p>Extension by HL7 to specify a minimum value for a numerical question. Is often seen together with maxValue.</p>
<p>Example:</p>
<pre><code class="json">{
  &quot;linkId&quot;:&quot;15&quot;,
  &quot;text&quot;:&quot;Give the length of your foot.&quot;,
  &quot;type&quot;:&quot;decimal&quot;,
  &quot;extension&quot;:[
    {
      &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/minValue&quot;,
      &quot;valueDecimal&quot;: 15.3
    }
  ]
}
</code></pre>

<h2 id="maxvalue">maxValue</h2>
<ul>
<li>URL: <code>http://hl7.org/fhir/StructureDefinition/minValue</code></li>
<li>Location: Questionnaire.item (and sub-items)</li>
</ul>
<p>Extension by HL7 to specify a maximum value for a numerical question. Is often seen together with minValue.</p>
<p>Example:</p>
<pre><code class="json">{
  &quot;linkId&quot;:&quot;15&quot;,
  &quot;text&quot;:&quot;Give your age.&quot;,
  &quot;type&quot;:&quot;decimal&quot;,
  &quot;extension&quot;:[
    {
      &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/maxValue&quot;,
      &quot;valueDecimal&quot;: 100.3
    }
  ]
}
</code></pre>

<p>There is some special UI logic required to handle a multiple choice question with the choice "none of the above". For this we use an extension that marks one of the choices as exclusive:</p>
<h2 id="optionexclusive">optionExclusive</h2>
<ul>
<li>URL: <code>http://hl7.org/fhir/StructureDefinition/questionnaire-optionExclusive</code></li>
<li>Location: Questionnaire.item.option (and in sub-items)</li>
</ul>
<p>HL7 extension to specify that a multiple choice answer is <em>exclusive</em>, i.e. in a 'checkbox' multiple choice question, if you check this answer, all other options are taken to be unchecked, and should be greyed out in the UI. Mainly used for 'none of the above' types of answer choices.</p>
<p>Example:</p>
<pre><code class="json">{
  &quot;valueCoding&quot;:{
    &quot;id&quot;: &quot;-1&quot;,
    &quot;display&quot;: &quot;None of the above&quot;
    &quot;extension&quot;: [
      {
        &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/questionnaire-optionExclusive&quot;,
        &quot;valueBoolean&quot;: true
      }
    ]
  }
}
</code></pre>

<h2 id="maxdecimalplaces">maxDecimalPlaces</h2>
<ul>
<li>URL: <code>http://hl7.org/fhir/StructureDefinition/maxDecimalPlaces</code></li>
<li>Location: Questionnaire.item (and sub-items)</li>
</ul>
<p>For questions of type <code>decimal</code>, specifies an integer value signifying the maximum number of decimal places that a user is allowed to fill in for his answer. If the extension is not present, the value is taken to be infinity. If the value is 0, the question type should be <code>integer</code> instead.</p>
<pre><code class="json">{
  &quot;linkId&quot;:&quot;15&quot;,
  &quot;text&quot;:&quot;Give your age with 2 decimal precision.&quot;,
  &quot;type&quot;:&quot;decimal&quot;,
  &quot;extension&quot;:[
    {
      &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/maxDecimalPlaces&quot;,
      &quot;valueInteger&quot;: 2
    }
  ]
}
</code></pre>

<h2 id="enable-when-operator">enable-when-operator</h2>
<ul>
<li>URL: <code>https://duodecim.fi/fhir/extensions/enable-when-operator</code></li>
<li>Location: Questionnaire.item.enableWhen (and in sub-items)</li>
</ul>
<p>The display logic conditions in <code>Questionnaire.item.enableWhen</code> are given in an array. By default, the question should be visible when <em>any</em> of the listed conditions are true. This extension takes a string value <code>AND</code>, <code>OR</code>, <code>NOT</code>. They should be interpreted in the following manner:</p>
<ul>
<li><code>OR</code>: If the condition extension contains this value, the logical operator between this condition and the previous condition in the array is the boolean OR. (This is the default when the extension is not present.)</li>
<li><code>AND</code>: As above, but the boolean operator is AND.</li>
<li><code>NOT</code>: This applies the NOT operator to the current condition.</li>
</ul>
<p>The same extension may be present multiple times in a condition, to construct e.g. AND NOT.</p>
<p>Example:</p>
<pre><code class="json">{
  &quot;linkId&quot;: &quot;23&quot;,
  &quot;required&quot;: true,
  &quot;type&quot;: &quot;boolean&quot;,
  &quot;enableWhen&quot;: [
    {
      &quot;question&quot;: &quot;3&quot;,
      &quot;answerQuantity&quot;: {
        &quot;value&quot;: 15,
        &quot;comparator&quot;: &quot;&gt;&quot;
      }
    },
    {
      &quot;question&quot;: &quot;3&quot;,
      &quot;extension&quot;: [
        {
          &quot;url&quot;: &quot;https://duodecim.fi/fhir/extensions/enable-when-operator&quot;,
          &quot;valueString&quot;: &quot;AND&quot;
        }
      ],
      &quot;answerQuantity&quot;: {
        &quot;value&quot;: 99,
        &quot;comparator&quot;: &quot;&lt;&quot;
      }
    }
  ]
}
</code></pre></div>
        
    </div>

    <footer class="col-md-12 text-center">
        <hr>
        <p>
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>
    </footer>

    <script src="../../../js/jquery-1.10.2.min.js"></script>
    <script src="../../../js/bootstrap-3.0.3.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
    var base_url = '../../..';
    </script>
    <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
    <script src="../../../js/base.js"></script>
    <script src="../../../search/require.js"></script>
    <script src="../../../search/search.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    </body>

</html>
